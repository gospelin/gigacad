{% extends "admin/base.html" %}
{% block content %}
<div class="container mt-3">
    <h2>Edit Subjects for {{ class_name }}</h2>

    <form method="POST" class="mb-4">
        {{ form.hidden_tag() }}
        <div class="form-group mb-3">
            {{ form.classes.label(class="form-label fw-bold") }}
            {{ form.classes(class="form-control select2", id="classes", disabled=True) }}
            <small class="form-text text-muted">Class is pre-selected and cannot be changed here.</small>
        </div>
        <div class="form-group mb-3">
            {{ form.subjects.label(class="form-label fw-bold") }}
            {{ form.subjects(class="form-control select2", id="subjects") }}
            <small class="form-text text-muted">{{ form.subjects.description }}</small>
            {% for error in form.subjects.errors %}
                <span class="text-danger">{{ error }}</span>
            {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary">Update Subjects</button>
        <a href="{{ url_for('admins.assign_subject_to_class') }}" class="btn btn-secondary ms-2">Cancel</a>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(function() {
    $('#classes').select2({
        placeholder: "Select classes",
        allowClear: false,
        width: '100%'
    });
    $('#subjects').select2({
        placeholder: "Select subjects",
        allowClear: true,
        width: '100%'
    });
});
</script>
{% endblock %}